// setting up the provider
var web3;

if (typeof web3 !== 'undefined') {
  web3 = new Web3(web3.currentProvider);
} else {
  // set the provider you want from Web3.providers
  web3 = new Web3(new Web3.providers.HttpProvider("http://localhost:8545"));
}

// instance of energy production contract
var productionABI = web3.eth.contract([{"anonymous":false,"inputs":[{"indexed":false,"name":"oliAddr","type":"address"},{"indexed":false,"name":"txTime","type":"uint256[]"},{"indexed":false,"name":"txValue","type":"uint32[]"},{"indexed":false,"name":"blockNumber","type":"uint256[]"},{"indexed":false,"name":"blockHash","type":"bytes32[]"},{"indexed":false,"name":"txGasPrice","type":"uint256[]"}],"name":"ProTransactionEvent","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"oliAddr","type":"address"},{"indexed":false,"name":"eTime","type":"uint256"},{"indexed":false,"name":"enerAmount","type":"uint32"}],"name":"EnerProductionEvent","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"pvAddr","type":"address"},{"indexed":false,"name":"owner","type":"string"},{"indexed":false,"name":"deviceType","type":"string"},{"indexed":false,"name":"peakPowerPos","type":"uint32"},{"indexed":false,"name":"peakPowerNeg","type":"uint32"},{"indexed":false,"name":"latitude","type":"uint32"},{"indexed":false,"name":"longitude","type":"uint32"},{"indexed":false,"name":"voltageLevel","type":"uint32"},{"indexed":false,"name":"location","type":"string"},{"indexed":false,"name":"installDate","type":"string"}],"name":"ProducerRegs","type":"event"},{"constant":false,"inputs":[{"name":"_enerValue","type":"uint32"}],"name":"setEnerProduction","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_owner","type":"string"},{"name":"_deviceType","type":"string"},{"name":"_peakPowerPos","type":"uint32"},{"name":"_peakPowerNeg","type":"uint32"},{"name":"_latitude","type":"uint32"},{"name":"_longitude","type":"uint32"},{"name":"_voltageLevel","type":"uint32"},{"name":"_location","type":"string"},{"name":"_installDate","type":"string"}],"name":"setProducer","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"constant":true,"inputs":[],"name":"countProducers","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"addr","type":"address"}],"name":"getDeviceTypeForCoin","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getEnerProduction","outputs":[{"name":"","type":"address"},{"name":"","type":"uint256"},{"name":"","type":"uint32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"addr","type":"address"}],"name":"getEnerProductionForCoin","outputs":[{"name":"","type":"uint32[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"addr","type":"address"}],"name":"getLocationForCoin","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_proAccntAddr","type":"address"}],"name":"getProAccntDetails","outputs":[{"name":"","type":"string"},{"name":"","type":"string"},{"name":"","type":"uint32"},{"name":"","type":"string"},{"name":"","type":"uint32"},{"name":"","type":"uint32"},{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getProAccntsList","outputs":[{"name":"","type":"address[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_proAccntAddr","type":"address"}],"name":"getProBalance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getProducer","outputs":[{"name":"","type":"address"},{"name":"","type":"string"},{"name":"","type":"string"},{"name":"","type":"uint32"},{"name":"","type":"uint32"},{"name":"","type":"uint32"},{"name":"","type":"uint32"},{"name":"","type":"uint32"},{"name":"","type":"string"},{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_proAccntAddr","type":"address"}],"name":"getProEnerProduction","outputs":[{"name":"","type":"address"},{"name":"","type":"uint256[]"},{"name":"","type":"uint32[]"},{"name":"","type":"uint256[]"},{"name":"","type":"bytes32[]"},{"name":"","type":"uint256[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"proAccntList","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"producerAddr","type":"address"}],"name":"proAccntsArr","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"}]);
var productionContract = productionABI.at('0x23c2504690294d146f384afad58d1a0672281bf5');

// instance of energy consumption contract
var consumptionABI = web3.eth.contract([{"anonymous":false,"inputs":[{"indexed":false,"name":"oliAddr","type":"address"},{"indexed":false,"name":"txTime","type":"uint256[]"},{"indexed":false,"name":"txValue","type":"uint32[]"},{"indexed":false,"name":"blockNumber","type":"uint256[]"},{"indexed":false,"name":"blockHash","type":"bytes32[]"},{"indexed":false,"name":"txGasPrice","type":"uint256[]"}],"name":"ConsTransactionEvent","type":"event"},{"constant":false,"inputs":[{"name":"_owner","type":"string"},{"name":"_deviceType","type":"string"},{"name":"_peakPowerPos","type":"uint32"},{"name":"_peakPowerNeg","type":"uint32"},{"name":"_latitude","type":"uint32"},{"name":"_longitude","type":"uint32"},{"name":"_voltageLevel","type":"uint32"},{"name":"_location","type":"string"},{"name":"_installDate","type":"string"}],"name":"setConsumer","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"anonymous":false,"inputs":[{"indexed":false,"name":"oliAddr","type":"address"},{"indexed":false,"name":"eTime","type":"uint256"},{"indexed":false,"name":"enerAmount","type":"uint32"}],"name":"EnerConsumptionEvent","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"pvAddr","type":"address"},{"indexed":false,"name":"owner","type":"string"},{"indexed":false,"name":"deviceType","type":"string"},{"indexed":false,"name":"peakPowerPos","type":"uint32"},{"indexed":false,"name":"peakPowerNeg","type":"uint32"},{"indexed":false,"name":"latitude","type":"uint32"},{"indexed":false,"name":"longitude","type":"uint32"},{"indexed":false,"name":"voltageLevel","type":"uint32"},{"indexed":false,"name":"location","type":"string"},{"indexed":false,"name":"installDate","type":"string"}],"name":"ConsumerRegs","type":"event"},{"constant":false,"inputs":[{"name":"_enerValue","type":"uint32"}],"name":"setEnerConsumption","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"consAccntList","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"consumerAddr","type":"address"}],"name":"consAccntsArr","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"countConsumers","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_consAccntAddr","type":"address"}],"name":"getConsAccntDetails","outputs":[{"name":"","type":"string"},{"name":"","type":"string"},{"name":"","type":"uint32"},{"name":"","type":"string"},{"name":"","type":"uint32"},{"name":"","type":"uint32"},{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getConsAccntsList","outputs":[{"name":"","type":"address[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_consAccntAddr","type":"address"}],"name":"getConsBalance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_consAccntAddr","type":"address"}],"name":"getConsEnerConsumption","outputs":[{"name":"","type":"address"},{"name":"","type":"uint256[]"},{"name":"","type":"uint32[]"},{"name":"","type":"uint256[]"},{"name":"","type":"bytes32[]"},{"name":"","type":"uint256[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getConsumer","outputs":[{"name":"","type":"address"},{"name":"","type":"string"},{"name":"","type":"string"},{"name":"","type":"uint32"},{"name":"","type":"uint32"},{"name":"","type":"uint32"},{"name":"","type":"uint32"},{"name":"","type":"uint32"},{"name":"","type":"string"},{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getEnerConsumption","outputs":[{"name":"","type":"address"},{"name":"","type":"uint256"},{"name":"","type":"uint32"}],"payable":false,"stateMutability":"view","type":"function"}]);
var consumptionContract = consumptionABI.at('0x1548bb01263c38568922560f4bade2a158f3daa5');

// instance of oli coin contract
var oliCoinABI = web3.eth.contract([{"anonymous":false,"inputs":[{"indexed":true,"name":"_tokenOwner","type":"address"},{"indexed":true,"name":"_spender","type":"address"},{"indexed":false,"name":"_tokens","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_from","type":"address"},{"indexed":true,"name":"_to","type":"address"},{"indexed":false,"name":"_tokens","type":"uint256"}],"name":"Transfer","type":"event"},{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_tokens","type":"uint256"}],"name":"approve","outputs":[{"name":"success","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_tokens","type":"uint256"}],"name":"transfer","outputs":[{"name":"success","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_tokens","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"success","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_tokenOwner","type":"address"},{"name":"_spender","type":"address"}],"name":"allowance","outputs":[{"name":"remaining","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_tokenOwner","type":"address"}],"name":"balanceOf","outputs":[{"name":"_tokens","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"addr","type":"address"}],"name":"getEnerProductionForCoin","outputs":[{"name":"","type":"uint32[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_name","type":"string"}],"name":"setName","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"}]);
var oliCoinContract = oliCoinABI.at('0xf343a87f62a08adbe574ab13ad07b4dee03a7ce1');

//
var parentABI = web3.eth.contract([{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"constant":true,"inputs":[],"name":"accountTx","outputs":[{"name":"","type":"uint256[]"}],"payable":false,"stateMutability":"view","type":"function"}]);
var parentContract = parentABI.at('0xab1df2babefdcddb26d8f45522ef682509f766f4');

//
var childABI = web3.eth.contract([{"constant":true,"inputs":[{"name":"addr","type":"address"}],"name":"getValue","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"}]);
var childContract = childABI.at('0xe4d3b1b50e57c7c4e3ed89e3fa261aa258051135');

export {productionContract, consumptionContract, oliCoinContract, parentContract, childContract};
export default web3;
